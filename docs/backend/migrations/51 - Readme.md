# Backend SQL Migrations

All backend SQL files live in this folder to keep the root clean and predictable.

## Naming
- Use `snake_case` for filenames.
- For new migrations, prefer `YYYYMMDDHHMM_description.sql` (example: `202601261530_add_indexes.sql`).
- Legacy files keep their original names (now normalized to `snake_case`).

## How to Run
- Preferred: open the file in the Supabase SQL Editor and execute.
- Local PG: `psql "$DATABASE_URL" -f backend/migrations/<file>.sql`

## Notes
- `delete_missing.sql` is generated by `backend/scripts/find-missing-videos.js`.
- `run-migration-soft-delete.js` reads from `backend/migrations/add_soft_delete.sql` via `backend/scripts/run-migration-soft-delete.js`.
